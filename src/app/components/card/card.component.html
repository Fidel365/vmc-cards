<section class="cards" *ngIf="card">
  <mat-card class="content-title" *ngIf="card.title && card.metadata">
      <mat-card-title>
        {{card.title}}
      </mat-card-title>
      <mat-card-subtitle>
        {{card.metadata.type}}
      </mat-card-subtitle>    
  </mat-card>
  <section>
    <img class="card-image" src="{{'assets/print-cards/' +card.card_value.toLowerCase()+card.card_suit.charAt(0).toLowerCase()+'.png'}}"/>
  <div >
 
    <button *ngIf="card.main_version.correct_answer" mat-raised-button (click)="openDialog()">Try it out!</button>
    <button mat-raised-button color="primary" (click)="showHint()">{{showHintContent?"Hide Hint": "Show Hint to Answer"}}</button>

    <div *ngIf="showHintContent">
      <mat-card class="main_version" *ngIf="card.main_version">
    
        <span class="main_hint" *ngIf="card.main_version.hint">
          <mat-card-subtitle > Hint:</mat-card-subtitle>
          <p [innerHTML]="card.main_version.hint"></p>

          <button mat-raised-button color="accent" (click)="showAnswer()">{{showAnswerContent?"Hide Answer": "Show Answer"}}</button>
        </span>
        <div *ngIf="showAnswerContent">
          <span class="main_answer" *ngIf="card.main_version.correct_answer">
            <mat-card-subtitle> Correct Answer:</mat-card-subtitle>
            <p [innerHTML]="card.main_version.correct_answer"></p>
            <button mat-raised-button color="primary" (click)="showExplanation()">{{showExplanationContent?"Hide Explanation": "Show Explanation"}}</button>
  
          </span>
          <div class="explanation" *ngIf="showExplanationContent">
            <span class="main_explanation" *ngIf="card.main_version.explanation">
              <mat-card-subtitle> Explanation:</mat-card-subtitle>
              <p [innerHTML]="card.main_version.explanation"></p>
            </span>
            <span class="main_instructions" *ngIf="card.main_version.further_instructions">
              <mat-card-subtitle> Further Instructions:</mat-card-subtitle>
              <p [innerHTML]="card.main_version.further_instructions"></p>
            </span>
            <span class="main_tips" *ngIf="card.main_version.strategy_tips">
              <mat-card-subtitle> Strategy Tips:</mat-card-subtitle>
              <p [innerHTML]="card.main_version.strategy_tips"></p>
            </span>
          </div>
        </div>
       
     
      
        </mat-card>
    </div>
    <div>
      Check out more extensions of the puzzle
    </div>
    <button mat-raised-button color="accent" (click)="showExtension()">{{showExtensionsContent?"Hide Extensions": "Show Extensions"}}</button>

    <div class="extensions" *ngIf="showExtensionsContent">
    <mat-card class="extension_1" *ngIf="card.extension_1">
        <mat-card-title>Extension 1</mat-card-title>
        <span class="ext_1_statement" *ngIf="card.extension_1.statement"> 
          <mat-card-subtitle> Statement:</mat-card-subtitle>
        <p [innerHTML]="card.extension_1.statement"></p>
        </span>
        <span class="ext_1_hint" *ngIf="card.extension_1.hint">
          <mat-card-subtitle> Hint:</mat-card-subtitle>

          <p [innerHTML]="card.extension_1.hint"></p>
        </span>
        
        <span class="ext_1_answer" *ngIf="card.extension_1.correct_answer">
          <mat-card-subtitle> Correct Answer:</mat-card-subtitle>
          <p>{{card.extension_1.correct_answer}}</p>
        </span>
        <span class="ext_1_explanation" *ngIf="card.extension_1.explanation">
          <mat-card-subtitle> Explanation:</mat-card-subtitle>

          <p [innerHTML]="card.extension_1.explanation"></p>  
        </span>
      </mat-card>
  

    <mat-card class="extension_2" *ngIf="card.extension_2">
    <mat-card-title>Extension 2</mat-card-title>
        <span class="ext_2_statement" *ngIf="card.extension_2.statement">
          <mat-card-subtitle> Statement:</mat-card-subtitle>
          <p [innerHTML]="card.extension_2.statement"></p>  
        </span>
        <span class="ext_2_hint" *ngIf="card.extension_2.hint">
          <mat-card-subtitle> Hint:</mat-card-subtitle>
          <p [innerHTML]="card.extension_2.hint"></p>  
        </span>
        <span class="ext_2_answer" *ngIf="card.extension_2.correct_answer">
          <mat-card-subtitle> Correct Answer:</mat-card-subtitle>
          <p [innerHTML]="card.extension_2.correct_answer"></p>
        </span>
        
        <span class="ext_2_explanation" *ngIf="card.extension_2.explanation">
          <mat-card-subtitle> Explanation:</mat-card-subtitle>
          <p [innerHTML]="card.extension_2.explanation"></p>
        </span>
    </mat-card>
   
    <mat-card>
      <div class="additional_information" *ngIf="card.additional_information">
        <mat-card-title>Additonal Information</mat-card-title>
        <span *ngIf="card.additional_information.about">
          <mat-card-subtitle> About</mat-card-subtitle>

          <p [innerHTML]="card.additional_information.about"></p>  
        </span>
        <span *ngIf="card.additional_information.references">
          <mat-card-subtitle>References</mat-card-subtitle>

          <p [innerHTML]="card.additional_information.references"></p>
        </span>
      </div>
    </mat-card>
   </div>
  </div>
 
  </section>
 
</section>
